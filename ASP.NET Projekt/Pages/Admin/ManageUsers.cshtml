@page
@model ASP.NET_Projekt.Pages.Admin.ManageUsersModel

@{
    ViewData["Title"] = "ManageUsers";
    Layout = "~/Pages/Shared/_Layout.cshtml";
}

<h1>ManageUsers</h1>

<table class="table">
    <thead>
        <tr>
            <th>
                Username
            </th>
            <th>
                Email
            </th>
            <th>
                Is Organizer
            </th>
            <th></th><th></th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model.Users) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.UserName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Email)
            </td>
            <td>

            @if (Model.IsOrganizer(item.Id).Result == true)
            {
                <h4 class="text-center"><i class="bi bi-check2-circle" style="color: darkslategrey"></i></h4>
            }
            </td>
            <td>
                <form method="post">
                    <input type="button" class="btn btn-outline-info" value="Organizer Toggle" onclick="this.form.submit()" />
                    <input type="hidden" name="id" value="@item.Id" />
                </form>
            </td>
            <td>
                <a type="button" class="btn btn-outline-info" asp-page="./UserDetails" asp-route-id="@item.Id">Details</a>
            </td>
        </tr>
}
    </tbody>
</table>
